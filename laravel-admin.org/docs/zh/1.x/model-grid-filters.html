<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from laravel-admin.org/docs/zh/1.x/model-grid-filters by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Jan 2024 11:27:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Laravel admin | 数据查询过滤</title>


    <link rel="stylesheet" href="../../../css/google-fonts.css">
    <link rel="stylesheet" href="../../../vendor/docs/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../../../vendor/docs/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <link rel="stylesheet" href="../../../vendor/docs/plugins/prism/prism.css">
    <link rel="stylesheet" href="../../../vendor/docs/css/adminlte.min.css">
    <link rel="stylesheet" href="../../../vendor/docs/css/docs.css">
    <link rel="stylesheet" href="../../../../cdn.jsdelivr.net/npm/docsearch.js%402/dist/cdn/docsearch.min.css" />
    <script src="../../../vendor/docs/plugins/jquery/jquery.min.js"></script>
</head>
<body class="hold-transition sidebar-mini layout-fixed layout-navbar-fixed text-sm">
<div class="wrapper">
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#"><i class="fa fa-bars"></i></a>
            </li>

                        <li class="nav-item dropdown">
                <a class="nav-link bg-info rounded dropdown-toggle" href="#" id="navbarVersionDropdown" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    1.x
                </a>
                <div class="dropdown-menu py-0" aria-labelledby="navbarVersionDropdown">
                                        <a class="dropdown-item" href="../1.html">1.x</a>
                                        <a class="dropdown-item" href="../2.html">2.0-BETA</a>
                                    </div>
            </li>
                    </ul>

        <!-- SEARCH FORM -->
        <form class="form-check-inline ml-3">
            <div class="input-group input-group-sm">
                <input class="form-control form-control-navbar docsearch" type="search" placeholder="Search" aria-label="Search">
                <div class="input-group-append">
                    <button class="btn btn-navbar" type="submit">
                        <i class="fa fa-search"></i>
                    </button>
                </div>
            </div>
        </form>

        <span class="ml-5"><a href="changelog.html#v1.8.9%20(2020-11-02)" class="text-danger">目前于1.8版本发现一处未授权访问安全漏洞，正在使用1.8版本的同学请尽快更新到v1.8.10版本！！！</a></span>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item d-none d-sm-inline-block">
              <a href="https://laravel-admin.org/" class="nav-link">Home</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="https://demo.laravel-admin.org/" target="_blank" class="nav-link">Demo</a>
            </li>
            <li class="nav-item d-none d-sm-inline-block">
                <a href="https://github.com/z-song/laravel-admin" class="nav-link" target="_blank"><i class="fab fa-github"></i></a>
            </li>

            <li class="nav-item dropdown ml-2">
                <a class="btn btn-info btn-sm" href="#" id="navbarLangDropdown" role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-globe-asia"></i>
                </a>
                <div class="dropdown-menu py-0" aria-labelledby="navbarLangDropdown">
                                        <a class="dropdown-item" href="../1.html">中文</a>
                                        <a class="dropdown-item" href="../../en.html">English</a>
                                    </div>
            </li>
        </ul>
    </nav>

    <aside class="main-sidebar elevation-4 sidebar-light-info">
        <a href="https://laravel-admin.org/" class="brand-link logo-switch navbar-light text-info">
            <img src="../../../images/logo.png" alt="AdminLTE Docs Logo Small" class="brand-image-xl logo-xs" style="height: 29px;margin-top: 1px;margin-left: 13px;">
            <span>
                <img src="../../../images/logo.png" alt="AdminLTE Docs Logo Large" class="brand-image-xs logo-xl" style="left: 30px">
                <span style="position: absolute;left:58px;" class="text-lg">aravel-admin</span>
            </span>
        </a>
        <div class="sidebar">
            <nav class="mt-2">
                <p></p><p></p><ul role="menu" class="nav nav-pills nav-sidebar nav-child-indent flex-column" data-widget="treeview">
<li class="nav-item"><a href="README.html" class="nav-link"><i class="nav-icon fas fa-home"></i><p>Overview</p></a></li>
<li class="nav-item has-treeview">
<a href="#" class="nav-link"><i class="nav-icon fas fa-tachometer-alt"></i><p>入门
<i class="right fas fa-angle-left"></i></p></a><ul class="nav nav-treeview" style="display: none;">
<li class="nav-item"><a href="installation.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>安装</p></a></li>
<li class="nav-item"><a href="quick-start.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>快速开始</p></a></li>
<li class="nav-item"><a href="configuration.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>配置文件</p></a></li>
<li class="nav-item"><a href="upgrading.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>版本升级</p></a></li>
<li class="nav-item"><a href="content-layout.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>页面内容和布局</p></a></li>
<li class="nav-item"><a href="questions.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>统一回复</p></a></li>
</ul>
</li>
<li class="nav-item has-treeview menu-open">
<a href="#" class="nav-link active"><i class="nav-icon fas fa-th"></i><p>模型表格
<i class="right fas fa-angle-left"></i></p></a><ul class="nav nav-treeview" style="display: block;">
<li class="nav-item"><a href="model-grid.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>基本使用</p></a></li>
<li class="nav-item"><a href="model-grid-column.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>列的使用</p></a></li>
<li class="nav-item"><a href="model-grid-column-display.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>列的显示</p></a></li>
<li class="nav-item"><a href="model-grid-filters.html" class="nav-link active"><i class="nav-icon far fa-circle"></i><p>查询过滤</p></a></li>
<li class="nav-item"><a href="model-grid-column-filter.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>列过滤器</p></a></li>
<li class="nav-item"><a href="model-grid-inline-edit.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>行内编辑</p></a></li>
<li class="nav-item"><a href="model-grid-actions.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>数据操作</p></a></li>
<li class="nav-item"><a href="model-grid-custom-actions.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>自定义行&amp;批量操作</p></a></li>
<li class="nav-item"><a href="model-grid-export.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>数据导出</p></a></li>
<li class="nav-item"><a href="model-grid-header-footer.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>头部和脚部</p></a></li>
<li class="nav-item"><a href="model-grid-init.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表格初始化</p></a></li>
<li class="nav-item"><a href="model-grid-total-row.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表格统计行</p></a></li>
<li class="nav-item"><a href="model-grid-quick-search.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>快捷搜索</p></a></li>
<li class="nav-item"><a href="model-grid-spec-selector.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>规格选择器</p></a></li>
<li class="nav-item"><a href="model-grid-quick-create.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>快捷创建</p></a></li>
<li class="nav-item"><a href="model-grid-custom-tools.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>自定义工具</p></a></li>
<li class="nav-item"><a href="model-grid-data.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>外部数据源</p></a></li>
<li class="nav-item"><a href="model-grid-hotkeys.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>快捷键</p></a></li>
<li class="nav-item"><a href="model-grid-soft-deletes.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>软删除</p></a></li>
</ul>
</li>
<li class="nav-item has-treeview">
<a href="#" class="nav-link"><i class="nav-icon fas fa-paste"></i><p>模型表单
<i class="right fas fa-angle-left"></i></p></a><ul class="nav nav-treeview" style="display: none;">
<li class="nav-item"><a href="model-form.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>基本使用</p></a></li>
<li class="nav-item"><a href="model-form-fields.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>基础组件</p></a></li>
<li class="nav-item"><a href="model-form-upload.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>图片/文件上传</p></a></li>
<li class="nav-item"><a href="model-form-json-fields.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>JSON组件</p></a></li>
<li class="nav-item"><a href="model-form-relationships.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>关系处理</p></a></li>
<li class="nav-item"><a href="model-form-linkage.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表单联动</p></a></li>
<li class="nav-item"><a href="model-form-field-management.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>组件管理</p></a></li>
<li class="nav-item"><a href="model-form-validation.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表单验证</p></a></li>
<li class="nav-item"><a href="model-form-callback.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表单回调</p></a></li>
<li class="nav-item"><a href="model-form-init.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表单初始化</p></a></li>
<li class="nav-item"><a href="model-form-layout.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>表单布局</p></a></li>
</ul>
</li>
<li class="nav-item has-treeview">
<a href="#" class="nav-link"><i class="nav-icon fas fa-eye"></i><p>模型详情
<i class="right fas fa-angle-left"></i></p></a><ul class="nav nav-treeview" style="display: none;">
<li class="nav-item"><a href="model-show.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>基本使用</p></a></li>
<li class="nav-item"><a href="model-show-fields.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>字段显示</p></a></li>
<li class="nav-item"><a href="model-show-relationship.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>关联关系</p></a></li>
<li class="nav-item"><a href="model-show-extension.html" class="nav-link"><i class="nav-icon far fa-circle"></i><p>显示扩展</p></a></li>
</ul>
</li>
<li class="nav-item"><a href="model-tree.html" class="nav-link"><i class="nav-icon fas fa-tree"></i><p>数据模型树</p></a></li>
<li class="nav-item"><a href="data-form.html" class="nav-link"><i class="nav-icon fas fa-database"></i><p>数据表单</p></a></li>
<li class="nav-item"><a href="localization.html" class="nav-link"><i class="nav-icon fas fa-language"></i><p>语言本地化</p></a></li>
<li class="nav-item"><a href="frontend.html" class="nav-link"><i class="nav-icon fab fa-js"></i><p>CSS/JavaScript</p></a></li>
<li class="nav-item"><a href="extension-development.html" class="nav-link"><i class="nav-icon fas fa-anchor"></i><p>扩展开发</p></a></li>
<li class="nav-item"><a href="commands.html" class="nav-link"><i class="nav-icon fas fa-terminal"></i><p>控制台命令</p></a></li>
<li class="nav-item"><a href="content-message.html" class="nav-link"><i class="nav-icon fas fa-comments"></i><p>页面消息</p></a></li>
<li class="nav-item"><a href="widgets.html" class="nav-link"><i class="nav-icon fas fa-box"></i><p>前端组件</p></a></li>
<li class="nav-item"><a href="permission.html" class="nav-link"><i class="nav-icon fas fa-ban"></i><p>用户、角色、权限</p></a></li>
<li class="nav-item"><a href="custom-authentication.html" class="nav-link"><i class="nav-icon fas fa-handshake"></i><p>自定义登录认证</p></a></li>
<li class="nav-item"><a href="custom-navbar.html" class="nav-link"><i class="nav-icon fas fa-compass"></i><p>自定义头部导航</p></a></li>
<li class="nav-item"><a href="qa.html" class="nav-link"><i class="nav-icon fas fa-question-circle"></i><p>常见问题</p></a></li>
<li class="nav-item"><a href="changelog.html" class="nav-link"><i class="nav-icon fas fa-history"></i><p>Changelog</p></a></li>
</ul>
            </nav>
        </div>
    </aside>

    <div class="content-wrapper pl-5 pr-4 py-2" id="pjax-container">
        <div class="content-header">
            <h1 class="text-dark">数据查询过滤</h1>
        </div>

        <div class="content px-2">

            <div class="row">
                <div class="col">
                    <div class="toc m-4">
                        <ul>
                                                        <li>
                                <a href="#v1.5.18更新内容">v1.5.18更新内容</a>
                                                                <ul>
                                                                        <li>
                                        <a href="#样式调整">样式调整</a>
                                    </li>
                                                                        <li>
                                        <a href="#定义查询范围">定义查询范围</a>
                                    </li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                <a href="#查询类型">查询类型</a>
                                                                <ul>
                                                                        <li>
                                        <a href="#equal">equal</a>
                                    </li>
                                                                        <li>
                                        <a href="#not equal">not equal</a>
                                    </li>
                                                                        <li>
                                        <a href="#like">like</a>
                                    </li>
                                                                        <li>
                                        <a href="#ilike">ilike</a>
                                    </li>
                                                                        <li>
                                        <a href="#contains">contains</a>
                                    </li>
                                                                        <li>
                                        <a href="#starts with">starts with</a>
                                    </li>
                                                                        <li>
                                        <a href="#starts with">starts with</a>
                                    </li>
                                                                        <li>
                                        <a href="#大于">大于</a>
                                    </li>
                                                                        <li>
                                        <a href="#小于">小于</a>
                                    </li>
                                                                        <li>
                                        <a href="#between">between</a>
                                    </li>
                                                                        <li>
                                        <a href="#in">in</a>
                                    </li>
                                                                        <li>
                                        <a href="#notIn">notIn</a>
                                    </li>
                                                                        <li>
                                        <a href="#date">date</a>
                                    </li>
                                                                        <li>
                                        <a href="#day">day</a>
                                    </li>
                                                                        <li>
                                        <a href="#month">month</a>
                                    </li>
                                                                        <li>
                                        <a href="#year">year</a>
                                    </li>
                                                                        <li>
                                        <a href="#where">where</a>
                                    </li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                <a href="#表单类型">表单类型</a>
                                                                <ul>
                                                                        <li>
                                        <a href="#text">text</a>
                                    </li>
                                                                        <li>
                                        <a href="#select">select</a>
                                    </li>
                                                                        <li>
                                        <a href="#multipleSelect">multipleSelect</a>
                                    </li>
                                                                        <li>
                                        <a href="#radio">radio</a>
                                    </li>
                                                                        <li>
                                        <a href="#checkbox">checkbox</a>
                                    </li>
                                                                        <li>
                                        <a href="#datetime">datetime</a>
                                    </li>
                                                                    </ul>
                                                            </li>
                                                        <li>
                                <a href="#复杂查询过滤器">复杂查询过滤器</a>
                                                                <ul>
                                                                        <li>
                                        <a href="#多列布局">多列布局</a>
                                    </li>
                                                                        <li>
                                        <a href="#过滤器组">过滤器组</a>
                                    </li>
                                                                    </ul>
                                                            </li>
                                                    </ul>
                    </div>
                </div>
                <div class="col">
                    <div id="ad" class="float-right">
                        <script async src="../../../../cdn.carbonads.com/carbonafe5.js?serve=CK7DT53L&amp;placement=laraveladminorg" id="_carbonads_js"></script>
                    </div>
                </div>
            </div>

            
<p><code>model-grid</code>提供了一系列的方法实现表格数据的查询过滤：</p>
<pre><code class="language-php">$grid-&gt;filter(function($filter){

    // 去掉默认的id过滤器
    $filter-&gt;disableIdFilter();

    // 在这里添加字段过滤器
    $filter-&gt;like('name', 'name');
    ...

});
</code></pre>
<h2 id="v1.5.18更新内容"><a href="#v1.5.18%E6%9B%B4%E6%96%B0%E5%86%85%E5%AE%B9">v1.5.18更新内容</a></h2>
<p><code>v1.5.8</code>版本对过滤查询做了下面的调整和更新</p>
<h3 id="样式调整"><a href="#%E6%A0%B7%E5%BC%8F%E8%B0%83%E6%95%B4">样式调整</a></h3>
<blockquote>
<p>v1.5.18版本及以上支持</p>
</blockquote>
<p>对过滤查询面板的样式做了调整，从原来的弹出modal改为嵌入表格头部，通过点击筛选按钮展开显示，默认是不展开的，用下面的方式可以让它默认展开：</p>
<pre><code class="language-php">
// 在`$grid`实例上操作
$grid-&gt;expandFilter();

// 或者在filter回调里面操作`$filter`实例
$filter-&gt;expand();
</code></pre>
<p>效果参考<a href="http://demo.laravel-admin.org/posts">Demo</a></p>
<h3 id="定义查询范围"><a href="#%E5%AE%9A%E4%B9%89%E6%9F%A5%E8%AF%A2%E8%8C%83%E5%9B%B4">定义查询范围</a></h3>
<blockquote>
<p>v1.5.18版本及以上支持</p>
</blockquote>
<p>可以把你最常用的查询定义为一个查询范围，它将会出现在筛选按钮的下拉菜单中，下面是几个例子：</p>
<pre><code class="language-php">
$filter-&gt;scope('male', '男性')-&gt;where('gender', 'm');

// 多条件查询
$filter-&gt;scope('new', '最近修改')
    -&gt;whereDate('created_at', date('Y-m-d'))
    -&gt;orWhere('updated_at', date('Y-m-d'));

// 关联关系查询
$filter-&gt;scope('address')-&gt;whereHas('profile', function ($query) {
    $query-&gt;whereNotNull('address');
});

$filter-&gt;scope('trashed', '被软删除的数据')-&gt;onlyTrashed();
</code></pre>
<p><code>scope</code>方法第一个参数为查询的key, 会出现的url参数中，第二个参数是下拉菜单项的label, 如果不填，第一个参数会作为label显示</p>
<p><code>scope</code>方法可以链式调用任何<code>eloquent</code>查询条件，效果参考<a href="http://demo.laravel-admin.org/posts">Demo</a></p>
<h2 id="查询类型"><a href="#%E6%9F%A5%E8%AF%A2%E7%B1%BB%E5%9E%8B">查询类型</a></h2>
<p>目前支持的过滤类型有下面这些:</p>
<h3 id="equal"><a href="#equal">equal</a></h3>
<p><code>sql: ... WHERE</code>column<code>= "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;equal('column', $label);</code></pre>
<h3 id="not equal"><a href="#not%20equal">not equal</a></h3>
<p><code>sql: ... WHERE</code>column<code>!= "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;notEqual('column', $label);</code></pre>
<h3 id="like"><a href="#like">like</a></h3>
<p><code>sql: ... WHERE</code>column<code>LIKE "%$input%"</code>：</p>
<pre><code class="language-php">$filter-&gt;like('column', $label);</code></pre>
<h3 id="ilike"><a href="#ilike">ilike</a></h3>
<p><code>sql: ... WHERE</code>column<code>ILIKE "%$input%"</code>：</p>
<pre><code class="language-php">$filter-&gt;ilike('column', $label);</code></pre>
<h3 id="contains"><a href="#contains">contains</a></h3>
<blockquote>
<p>since v1.6.12 </p>
</blockquote>
<p>等于like查询</p>
<pre><code class="language-php">$filter-&gt;contains('title');</code></pre>
<h3 id="starts with"><a href="#starts%20with">starts with</a></h3>
<blockquote>
<p>since v1.6.12 </p>
</blockquote>
<p>查询以输入内容开头的title字段数据</p>
<pre><code class="language-php">$filter-&gt;startsWith('title');</code></pre>
<h3 id="starts with"><a href="#starts%20with">starts with</a></h3>
<blockquote>
<p>since v1.6.12 </p>
</blockquote>
<p>查询以输入内容结尾的title字段数据</p>
<pre><code class="language-php">$filter-&gt;endsWith('title');</code></pre>
<h3 id="大于"><a href="#%E5%A4%A7%E4%BA%8E">大于</a></h3>
<p><code>sql: ... WHERE</code>column<code>&gt; "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;gt('column', $label);</code></pre>
<h3 id="小于"><a href="#%E5%B0%8F%E4%BA%8E">小于</a></h3>
<p><code>sql: ... WHERE</code>column<code>&lt; "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;lt('column', $label);</code></pre>
<h3 id="between"><a href="#between">between</a></h3>
<p><code>sql: ... WHERE</code>column<code>BETWEEN "$start" AND "$end"</code>：</p>
<pre><code class="language-php">$filter-&gt;between('column', $label);

// 设置datetime类型
$filter-&gt;between('column', $label)-&gt;datetime();

// 设置time类型
$filter-&gt;between('column', $label)-&gt;time();</code></pre>
<h3 id="in"><a href="#in">in</a></h3>
<p><code>sql: ... WHERE</code>column<code>in (...$inputs)</code>：</p>
<pre><code class="language-php">$filter-&gt;in('column', $label)-&gt;multipleSelect(['key' =&gt; 'value']);</code></pre>
<h3 id="notIn"><a href="#notIn">notIn</a></h3>
<p><code>sql: ... WHERE</code>column<code>not in (...$inputs)</code>：</p>
<pre><code class="language-php">$filter-&gt;notIn('column', $label)-&gt;multipleSelect(['key' =&gt; 'value']);</code></pre>
<h3 id="date"><a href="#date">date</a></h3>
<p><code>sql: ... WHERE DATE(</code>column<code>) = "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;date('column', $label);</code></pre>
<h3 id="day"><a href="#day">day</a></h3>
<p><code>sql: ... WHERE DAY(</code>column<code>) = "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;day('column', $label);</code></pre>
<h3 id="month"><a href="#month">month</a></h3>
<p><code>sql: ... WHERE MONTH(</code>column<code>) = "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;month('column', $label);</code></pre>
<h3 id="year"><a href="#year">year</a></h3>
<p><code>sql: ... WHERE YEAR(</code>column<code>) = "$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;year('column', $label);</code></pre>
<h3 id="where"><a href="#where">where</a></h3>
<p>可以用where来构建比较复杂的查询过滤</p>
<p><code>sql: ... WHERE</code>title<code>LIKE "%$input" OR</code>content<code>LIKE "%$input"</code>：</p>
<pre><code class="language-php">$filter-&gt;where(function ($query) {

    $query-&gt;where('title', 'like', "%{$this-&gt;input}%")
        -&gt;orWhere('content', 'like', "%{$this-&gt;input}%");

}, 'Text');</code></pre>
<p><code>sql: ... WHERE</code>rate<code>&gt;= 6 AND</code>created_at<code>= {$input}</code>:</p>
<pre><code class="language-php">$filter-&gt;where(function ($query) {

    $query-&gt;whereRaw("`rate` &gt;= 6 AND `created_at` = {$this-&gt;input}");

}, 'Text');</code></pre>
<p>关系查询，查询对应关系<code>profile</code>的字段：</p>
<pre><code class="language-php">$filter-&gt;where(function ($query) {

    $query-&gt;whereHas('profile', function ($query) {
        $query-&gt;where('address', 'like', "%{$this-&gt;input}%")-&gt;orWhere('email', 'like', "%{$this-&gt;input}%");
    });

}, '地址或手机号');</code></pre>
<h2 id="表单类型"><a href="#%E8%A1%A8%E5%8D%95%E7%B1%BB%E5%9E%8B">表单类型</a></h2>
<h3 id="text"><a href="#text">text</a></h3>
<p>表单类型默认是text input，可以设置placeholder：</p>
<pre><code class="language-php">$filter-&gt;equal('column')-&gt;placeholder('请输入。。。');</code></pre>
<p>也可以通过下面的一些方法来限制用户输入格式：</p>
<pre><code class="language-php">$filter-&gt;equal('column')-&gt;url();

$filter-&gt;equal('column')-&gt;email();

$filter-&gt;equal('column')-&gt;integer();

$filter-&gt;equal('column')-&gt;ip();

$filter-&gt;equal('column')-&gt;mac();

$filter-&gt;equal('column')-&gt;mobile();

// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md
$filter-&gt;equal('column')-&gt;decimal($options = []);

// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md
$filter-&gt;equal('column')-&gt;currency($options = []);

// $options 参考 https://github.com/RobinHerbots/Inputmask/blob/4.x/README_numeric.md
$filter-&gt;equal('column')-&gt;percentage($options = []);

// $options 参考 https://github.com/RobinHerbots/Inputmask, $icon为input前面的图标
$filter-&gt;equal('column')-&gt;inputmask($options = [], $icon = 'pencil');</code></pre>
<h3 id="select"><a href="#select">select</a></h3>
<pre><code class="language-php">$filter-&gt;equal('column')-&gt;select(['key' =&gt; 'value'...]);

// 或者从api获取数据，api的格式参考model-form的select组件
$filter-&gt;equal('column')-&gt;select('api/users');</code></pre>
<h3 id="multipleSelect"><a href="#multipleSelect">multipleSelect</a></h3>
<p>一般用来配合<code>in</code>和<code>notIn</code>两个需要查询数组的查询类型使用，也可以在<code>where</code>类型的查询中使用：</p>
<pre><code class="language-php">$filter-&gt;in('column')-&gt;multipleSelect(['key' =&gt; 'value'...]);

// 或者从api获取数据，api的格式参考model-form的multipleSelect组件
$filter-&gt;in('column')-&gt;multipleSelect('api/users');</code></pre>
<h3 id="radio"><a href="#radio">radio</a></h3>
<p>比较常见的场景是选择分类</p>
<pre><code class="language-php">$filter-&gt;equal('released')-&gt;radio([
    ''   =&gt; 'All',
    0    =&gt; 'Unreleased',
    1    =&gt; 'Released',
]);</code></pre>
<h3 id="checkbox"><a href="#checkbox">checkbox</a></h3>
<p>比较常见的场景是配合<code>whereIn</code>来做范围筛选</p>
<pre><code class="language-php">$filter-&gt;in('gender')-&gt;checkbox([
    'm'    =&gt; 'Male',
    'f'    =&gt; 'Female',
]);</code></pre>
<h3 id="datetime"><a href="#datetime">datetime</a></h3>
<p>通过日期时间组件来查询，<code>$options</code>的参数和值参考<a href="http://eonasdan.github.io/bootstrap-datetimepicker/Options/">bootstrap-datetimepicker</a></p>
<pre><code class="language-php">$filter-&gt;equal('column')-&gt;datetime($options);

// `date()` 相当于 `datetime(['format' =&gt; 'YYYY-MM-DD'])`
$filter-&gt;equal('column')-&gt;date();

// `time()` 相当于 `datetime(['format' =&gt; 'HH:mm:ss'])`
$filter-&gt;equal('column')-&gt;time();

// `day()` 相当于 `datetime(['format' =&gt; 'DD'])`
$filter-&gt;equal('column')-&gt;day();

// `month()` 相当于 `datetime(['format' =&gt; 'MM'])`
$filter-&gt;equal('column')-&gt;month();

// `year()` 相当于 `datetime(['format' =&gt; 'YYYY'])`
$filter-&gt;equal('column')-&gt;year();
</code></pre>
<h2 id="复杂查询过滤器"><a href="#%E5%A4%8D%E6%9D%82%E6%9F%A5%E8%AF%A2%E8%BF%87%E6%BB%A4%E5%99%A8">复杂查询过滤器</a></h2>
<p>您可以使用<code>$this-&gt;input()</code>来触发复杂的自定义查询：</p>
<pre><code class="language-php">$filter-&gt;where(function ($query) {
    switch ($this-&gt;input) {
        case 'yes':
            // custom complex query if the 'yes' option is selected
            $query-&gt;has('somerelationship');
            break;
        case 'no':
            $query-&gt;doesntHave('somerelationship');
            break;
    }
}, 'Label of the field', 'name_for_url_shortcut')-&gt;radio([
    '' =&gt; 'All',
    'yes' =&gt; 'Only with relationship',
    'no' =&gt; 'Only without relationship',
]);
</code></pre>
<h3 id="多列布局"><a href="#%E5%A4%9A%E5%88%97%E5%B8%83%E5%B1%80">多列布局</a></h3>
<blockquote>
<p>since v1.6.0</p>
</blockquote>
<p>如果过滤器太多，会把页面拉的很长，将会很影响页面的观感，这个版本将支持过滤器的多列布局, 比如6个过滤器分两列显示</p>
<pre><code class="language-php">$filter-&gt;column(1/2, function ($filter) {
    $filter-&gt;like('title');
    $filter-&gt;between('rate');
});

$filter-&gt;column(1/2, function ($filter) {
    $filter-&gt;equal('created_at')-&gt;datetime();
    $filter-&gt;between('updated_at')-&gt;datetime();
    $filter-&gt;equal('released')-&gt;radio([
        1 =&gt; 'YES',
        0 =&gt; 'NO',
    ]);
});</code></pre>
<blockquote>
<p>默认会有一个主键字段的过滤器放在第一列，所有左右各三个过滤器一共6个过滤器</p>
</blockquote>
<p><code>column</code>方法的第一个参数设置列宽度，可以设置为比例<code>1/2</code>或<code>0.5</code>，或者bootstrap的栅格列宽度比如<code>6</code>，如果三列的话可以设置为<code>1/3</code>或者<code>4</code></p>
<p>效果参考<a href="http://demo.laravel-admin.org/posts">DEMO</a></p>
<p><img src="../../../../user-images.githubusercontent.com/1479100/45264860-c9865f00-b475-11e8-8418-a3bdb2a834ab.png" alt="wx20180909-211708"></p>
<h3 id="过滤器组"><a href="#%E8%BF%87%E6%BB%A4%E5%99%A8%E7%BB%84">过滤器组</a></h3>
<blockquote>
<p>since v1.6.0</p>
</blockquote>
<p>有时候对同一个字段要设置多中筛选方式，可以通过下面的方式实现</p>
<pre><code class="language-php">$filter-&gt;group('rate', function ($group) {
    $group-&gt;gt('大于');
    $group-&gt;lt('小于');
    $group-&gt;nlt('不小于');
    $group-&gt;ngt('不大于');
    $group-&gt;equal('等于');
});</code></pre>
<p>有下面的几个方法可以调用</p>
<pre><code class="language-php">// 等于
$group-&gt;equal();

// 不等于
$group-&gt;notEqual();

// 大于
$group-&gt;gt();

// 小于
$group-&gt;lt();

// 大于等于
$group-&gt;nlt();

// 小于等于
$group-&gt;ngt();

// 匹配
$group-&gt;match();

// 复杂条件
$group-&gt;where();

// like查询
$group-&gt;like();

// like查询
$group-&gt;contains();

// ilike查询
$group-&gt;ilike();

// 以输入的内容开头
$group-&gt;startWith();

// 以输入的内容结尾
$group-&gt;endWith();</code></pre>
<p>效果参考<a href="http://demo.laravel-admin.org/posts">DEMO</a></p>
<p><img src="../../../../user-images.githubusercontent.com/1479100/45264980-77463d80-b477-11e8-917b-3495a32f018e.png" alt="wx20180909-212049"></p>
        </div>
    </div>
    <footer class="main-footer">
        <div class="float-right d-none d-sm-inline">
            v1.8
        </div>
        <strong>Documentation powered by <a href="https://adminlte.io/">AdminLTE.io</a>.</strong>
    </footer>
</div>

<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '../../../../www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-52301626-3', 'auto');
    ga('send', 'pageview');

</script>

<script type="text/javascript" src="../../../../cdn.jsdelivr.net/npm/docsearch.js%402/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
        apiKey: 'f67cec1a592c4a25a3e1d1c0dc38b6af',
        indexName: 'laravel-admin',
        inputSelector: '.docsearch',
        debug: false // Set debug to true if you want to inspect the dropdown
    });
</script>

<script src="../../../vendor/docs/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../../../vendor/docs/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<script src="../../../vendor/docs/js/adminlte.min.js"></script>
<script src="../../../vendor/docs/plugins/jquery-pjax/jquery.pjax.js"></script>
<script src="../../../vendor/docs/plugins/prism/prism.js" data-manual></script>
<script src="../../../vendor/docs/js/docsd708.js?id=3" data-manual></script>
</body>

<!-- Mirrored from laravel-admin.org/docs/zh/1.x/model-grid-filters by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 23 Jan 2024 11:27:01 GMT -->
</html>
